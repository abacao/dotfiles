# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!


## Windows Borders
# #---Basic Definitions---# #
for_window [class="^.*"] border pixel 2
gaps inner 10
gaps outer 5

# Activate smart borders (always)
smart_borders on

# Activate smart borders (only when there are effectively no gaps)
smart_borders no_gaps

# Size of frame in active window
for_window [class="^.*"] border pixel 5

# Child border is the color for the frame
# class                 border  backgr. text    indicator child_border
client.focused_inactive #0d1010 #212121 #d9d9d9 #0d1010 #063340
client.unfocused        #0d1010 #212121 #d9d9d9 #424242 #063340
client.focused          #d9d9d9 #cecece #000000 #d9d9d9 #da6922

#Mod4 = Meta
set $meta Mod4
#Mod1 = left-alt
set $alt Mod1

set $sink `pactl list short sinks | grep RUNNING | cut -f1`
#set $sink `pacmd info|grep -A 1 RUNNING|grep sink|cut -d " " -f 2`
set $term terminator

# Kill window with midle button in title bar (will only work on release)
bindsym --release button2 kill
## Kill window with midle button everywhere
#bindsym $meta button2 kill

# split toggle
bindsym $meta t  split toggle

# The right button toggles floating
bindsym $meta button3 floating toggle

# The side buttons move the window around
bindsym --whole-window $meta button8 move left
bindsym --whole-window $meta button9 move right

# Mute sound
bindsym $meta m exec pactl set-sink-mute 1 toggle

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
###font pango:monospace 8
#font pango:System San Francisco Display 9

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8
#font pango:DejaVu Sans Mono 8, FontAwesome 8
font pango:monospace 8, FontAwesome 8, Icons 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn’t scale on retina/hidpi displays.

# Use Mouse+$meta to drag floating windows to their wanted position
floating_modifier $meta

bindsym $meta Return exec $term -e "tmux attach || tmux"
bindsym $meta Shift+Return exec $term

# kill focused window
bindsym $meta Shift+q kill

# start dmenu (a program launcher)
bindsym $meta d exec --no-startup-id i3-dmenu-desktop
bindsym $meta Shift+d exec --no-startup-id rofi -show window
bindsym $meta Control+d exec dmenu_run

# change focus
bindsym $meta Left focus left
bindsym $meta Down focus down
bindsym $meta Up focus up
bindsym $meta Right focus right

# move focused window
bindsym $meta Shift+j move left
bindsym $meta Shift+k move down
bindsym $meta Shift+l move up
bindsym $meta Shift+ccedilla move right

# alternatively, you can use the cursor keys:
bindsym $meta Shift+Left move left
bindsym $meta Shift+Down move down
bindsym $meta Shift+Up move up
bindsym $meta Shift+Right move right

# split in horizontal orientation
bindsym $meta h split h
# split in vertical orientation
bindsym $meta v split v

# enter fullscreen mode for the focused container
bindsym $meta f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $meta s layout stacking
bindsym $meta w layout tabbed
bindsym $meta e layout toggle split

# toggle tiling / floating
bindsym $meta Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $meta space focus mode_toggle

# focus the parent container
bindsym $meta a focus parent

# focus the child container
#bindsym $meta d focus child

# switch to workspace
set $workspace1 "1:work"
set $workspace2 "2:home"
set $workspace3 "3"
set $workspace4 "4"
set $workspace5 "5"
set $workspace6 "6"
set $workspace7 "7"
set $workspace8 "8:rambox"
set $workspace9 "9:slack"
set $workspace0 "0:Focus"

bindsym $meta 1 workspace $workspace1
bindsym $meta 2 workspace $workspace2
bindsym $meta 3 workspace $workspace3
bindsym $meta 4 workspace $workspace4
bindsym $meta 5 workspace $workspace5
bindsym $meta 6 workspace $workspace6
bindsym $meta 7 workspace $workspace7
bindsym $meta 8 workspace $workspace8
bindsym $meta 9 workspace $workspace9
bindsym $meta 0 workspace $workspace0

# move focused container to workspace
bindsym $meta Shift+1 move container to workspace $workspace1
bindsym $meta Shift+2 move container to workspace $workspace2
bindsym $meta Shift+3 move container to workspace $workspace3
bindsym $meta Shift+4 move container to workspace $workspace4
bindsym $meta Shift+5 move container to workspace $workspace5
bindsym $meta Shift+6 move container to workspace $workspace6
bindsym $meta Shift+7 move container to workspace $workspace7
bindsym $meta Shift+8 move container to workspace $workspace8
bindsym $meta Shift+9 move container to workspace $workspace9
bindsym $meta Shift+0 move container to workspace $workspace0

## Workspaces defined
workspace $workspace2 output eDP-1
workspace $workspace8 output eDP-1
workspace $workspace9 output eDP-1
workspace $workspace0 output eDP-1

# Apps in Floating
for_window [class="^zoom$"] floating enable
for_window [class="^Keybase"] floating enable
for_window [class="^pritunl"] floating enable

# reload the configuration file
bindsym $meta Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $meta Shift+r restart

# Special system mode
#set $locker i3lock -n -e -c 101010 -f
set $locker i3locking.sh
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (p) poweroff
mode "$mode_system" {
#  bindsym l exec --no-startup-id i3lock -c 101010 -f, mode "default"
  bindsym l exec --no-startup-id $locker, mode "default"
  bindsym e exec --no-startup-id i3-msg exit, mode "default"
  bindsym s exec --no-startup-id i3exit suspend, mode "default"
  bindsym h exec --no-startup-id systemctl hibernate, mode "default"
  bindsym r exec --no-startup-id systemctl reboot, mode "default"
  bindsym p exec --no-startup-id systemctl poweroff, mode "default"

# back to normal
  bindsym Return mode "default"
  bindsym Escape mode "default"
}
bindsym $meta l mode "$mode_system"
bindsym $meta Shift+e mode "$mode_system"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height  10 px or 10 ppt
        bindsym Up resize shrink height  10 px or 10 ppt
        bindsym Right resize grow width  10 px or 10 ppt

        bindsym Shift+Left resize shrink width 2 px or 2 ppt
        bindsym Shift+Down resize grow height  2 px or 2 ppt
        bindsym Shift+Up resize shrink height  2 px or 2 ppt
        bindsym Shift+Right resize grow width  2 px or 2 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym $meta r mode "resize"

#### My Options ####
hide_edge_borders both

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        position top
        #i3bar_command i3bar -t
        #status_command i3status --config ~/.config/i3/i3status.conf
        status_command i3blocks -c /home/abacao/gits/dotfiles/i3/i3blocks.conf
        font pango:SauceCodePro Nerd Font 11
        separator_symbol ""
        workspace_buttons yes
        strip_workspace_numbers no
        strip_workspace_name no
        binding_mode_indicator yes
        colors {
                        statusline    #ffffff
                        background    #000000 #28567F
                        separator     #3399ff
                          #                  BORDER      BACKGROUND    TEXT
                        focused_workspace   #00000000    #00000000   #c6ff00  #859900cc
                        inactive_workspace  #00000000    #00000000   #dddddd  #859900cc
                        active_workspace    #00000000    #00000000   #ffffff  #859900cp
                        urgent_workspace    #b71c1c      #b71c1c     #00000000  #859900cc
                        binding_mode        #b71c1c      #b71c1c     #00000000  #859900cc
        }
}

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec light -A 5
bindsym XF86MonBrightnessDown exec light -U 5

# Touchpad controls
bindsym XF86TouchpadToggle exec /home/abacao/gits/dotfiles/bin/touchpad.sh # toggle touchpad

#Audio - remember to install playerctl and Chrome Extension (Streamkeys)
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume $sink +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume $sink -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute $sink toggle
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# Screenshot
# scrot full desktop
bindsym Print exec "/home/abacao/gits/dotfiles/i3/scripts/myi3scrot.sh -d | xclip"
# scrot - active window
bindsym $alt+Print exec "/home/abacao/gits/dotfiles/i3/scripts/myi3scrot.sh -w"
# scrot - select window or rectangle
bindsym $meta Print exec "/home/abacao/gits/dotfiles/i3/scripts/myi3scrot.sh -s"

# Lighthouse launcher
#bindsym Mod1+Control+space exec lighthouse -- | sh
# Ulauncher
exec --no-startup-id ulauncher

# Autostart Apps
#exec --no-startup-id compton --config /home/abacao/.config/i3/compton.conf    # tranparency on(?)
exec --no-startup-id dropbox start                         # dropbox deamon
exec --no-startup-id pasystray                             # systray audio selector
#exec --no-startup-id pnmixer                               # systray volume selector
#exec --no-startup-id nm-applet                             # network icon
exec --no-startup-id guake                                 # F12terminal
exec --no-startup-id nitrogen --restore                    # Wallpapers
exec --no-startup-id redshift                              # less blue screen
#exec --no-startup-id kdeconnect-indicator                  # KDE Connect
exec --no-startup-id caffeine                              # Caffeine - Prevents full screen lock
#exec --no-startup-id i3autolock.sh                         # xautolock -detectsleep -time 1 -locker "i3locking.sh" -notify 10 -notifier 'notify-send -u critical -t 500 -i kscreensaver -- "Lock in 10s"'
exec --no-startup-id xfce4-power-manager                  # trying to sustitute i3autolock

# special apps
assign [class="^Zoom$"] $workspace7
exec rambox
assign [class="^Rambox$"] $workspace8
#exec slack
assign [class="^Slack$"] $workspace9
exec keepassxc
assign [class="^Albert$"] move position mouse

# Keyboard Shortcuts for each workspace
bindsym $meta F1 exec google-chrome
bindsym $meta F2 exec firefox
bindsym $meta F8 exec rambox
bindsym $meta F9 exec slack

# KeePass
for_window [class="^keepassxc$"] move scratchpad
for_window [class="^keepassxc$"] move position mouse
for_window [class="^keepassxc$"] floating enable
for_window [title="(?i)KeePassXC-Browser Confirm Access"] move position mouse
for_window [title="Confirm Remove"] move position mouse

# Floats
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="Preferences"] floating enable
for_window [window_type="dialog"] floating enable
for_window [window_type="menu"] floating enable

# Scratchpad
bindsym $meta Shift+BackSpace move scratchpad
bindsym $meta BackSpace [class="keepassxc"] scratchpad show

## Workspace music
#bindsym $meta m workspace "♪"
#bindsym $meta Shift+m move container to workspace "♪"

# Move Containers to another screen
bindsym $meta x move workspace to output right

# STOP/HIDE EVERYTHING:
bindsym $meta Escape exec --no-startup-id playerctl -a volume 0; exec --no-startup-id playerctl -a pause; workspace 0; exec $term -e htop ; exec $term -e ranger

# STICKY TOGGLE
bindsym $meta minus sticky toggle
